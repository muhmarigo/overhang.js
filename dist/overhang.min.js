/**
 * overhang.min.js
 * Paul Krishnamurthy 2016
 *
 * https://paulkr.com
 * paul@paulkr.com
 */

$.fn.overhang=function(arguments){function e(e,t){n.fadeOut(100),a.slideUp(s.speed,function(){e&&s.callback(null!==t?o.data(t):"")})}var o=$(this),a=$("<div class='overhang'></div>"),n=$("<div class='overhang-overlay'></div>");$(".overhang").remove(),$(".overhang-overlay").remove();var t={success:["#2ECC71","#27AE60"],error:["#E74C3C","#C0392B"],warn:["#E67E22","#D35400"],info:["#3498DB","#2980B9"],prompt:["#9B59B6","#8E44AD"],confirm:["#1ABC9C","#16A085"],default:["#95A5A6","#7F8C8D"]},r={type:"success",custom:!1,message:"This is an overhang.js message!",textColor:"#FFFFFF",yesMessage:"Yes",noMessage:"No",yesColor:"#2ECC71",noColor:"#E74C3C",duration:1.5,speed:500,closeConfirm:!1,upper:!1,easing:"easeOutBounce",html:!1,overlay:!1,multiline:!1,textWidth:"30px",textHeight:"250px",callback:function(){}},s=$.extend(r,arguments);s.type=s.type.toLowerCase();var l=["success","error","warn","info","prompt","confirm"];-1===$.inArray(s.type,l)&&(s.type="default",console.log("You have entered invalid type name for an overhang message. Overhang resorted to the default theme.")),s.custom?(s.primary=arguments.primary||t.default[0],s.accent=arguments.accent||t.default[1]):(s.primary=t[s.type][0]||t.default[0],s.accent=t[s.type][1]||t.default[1]),"prompt"!==s.type&&"confirm"!==s.type||(s.primary=arguments.primary||t[s.type][0],s.accent=arguments.accent||t[s.type][1],s.closeConfirm=!0),a.css("background-color",s.primary),a.css("border-bottom","6px solid "+s.accent);var c=$("<span class='overhang-message'></span>");c.css("color",s.textColor),s.html?c.html(s.message):c.text(s.upper?s.message.toUpperCase():s.message),a.append(c);var i=s.multiline?$("<textarea style='width:"+s.textWidth+";height:"+s.textHeight+"' class='overhang-prompt-field'></textarea>"):$("<input class='overhang-prompt-field' />"),p=$("<button class='overhang-yes-option'>"+s.yesMessage+"</button>"),d=$("<button class='overhang-no-option'>"+s.noMessage+"</button>");if(p.css("background-color",s.yesColor),d.css("background-color",s.noColor),s.closeConfirm){var u=$("<span class='overhang-close'></span>");u.css("color",s.accent),"confirm"!==s.type&&a.append(u)}if("prompt"===s.type?(a.append(i),o.data("overhangPrompt",null),i.keydown(function(a){if(13==a.keyCode){if(a.ctrlKey)return i.val(i.val()+"\n"),!0;o.data("overhangPrompt",i.val()),e(!0,"overhangPrompt")}})):"confirm"===s.type&&(a.append(p),a.append(d),a.append(u),o.data("overhangConfirm",null),p.click(function(){o.data("overhangConfirm",!0),e(!0,"overhangConfirm")}),d.click(function(){o.data("overhangConfirm",!1),e(!0,"overhangConfirm")})),o.append(a),a.slideDown(s.speed,s.easing),s.overlay&&(s.overlayColor&&n.css("background-color",s.overlayColor),o.append(n)),s.closeConfirm&&!arguments.duration)u.click(function(){"prompt"!==s.type&&"confirm"!==s.type?e(!0,null):e(!1,null)});else if(s.closeConfirm&&arguments.duration){var m=setTimeout(function(){a.slideUp(s.speed,function(){e(!0,null)})},1e3*s.duration);u.click(function(){clearTimeout(m),"prompt"!==s.type&&"confirm"!==s.type?e(!0,null):e(!1,null)})}else a.delay(1e3*s.duration).slideUp(s.speed,function(){e(!0,null)})};